# TanStack Dashboard

A modern React dashboard built with TypeScript, Vite, and TanStack Query.

## API Configuration

The application uses a centralized API configuration system located in `src/config/api.ts`. This allows for easy environment-based configuration and URL management.

### Environment Variables

You can configure the API base URL using the `VITE_API_BASE_URL` environment variable:

```bash
# Development (default)
VITE_API_BASE_URL=http://localhost:3001

# Staging
VITE_API_BASE_URL=https://api-staging.example.com

# Production
VITE_API_BASE_URL=https://api.example.com
```

### Usage

The API configuration provides helper functions for building URLs:

```typescript
import { buildApiUrl, buildResourceUrl, getEndpointUrl } from '@/config/api';

// Build a full URL with query parameters
const url = buildApiUrl(getEndpointUrl('reservations'), {
  _page: 1,
  _limit: 10
});

// Result: http://localhost:3001/reservations?_page=1&_limit=10

// Build a URL for a specific resource by ID
const resourceUrl = buildResourceUrl('reservations', 123);

// Result: http://localhost:3001/reservations/123
```

## Development Setup

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## Expanding the ESLint configuration

If you are developing a production application, we recommend updating the configuration to enable type aware lint rules:

- Configure the top-level `parserOptions` property like this:

```js
export default {
  // other rules...
  parserOptions: {
    ecmaVersion: 'latest',
    sourceType: 'module',
    project: ['./tsconfig.json', './tsconfig.node.json'],
    tsconfigRootDir: __dirname
  }
};
```

- Replace `plugin:@typescript-eslint/recommended` to `plugin:@typescript-eslint/recommended-type-checked` or `plugin:@typescript-eslint/strict-type-checked`
- Optionally add `plugin:@typescript-eslint/stylistic-type-checked`
- Install [eslint-plugin-react](https://github.com/jsx-eslint/eslint-plugin-react) and add `plugin:react/recommended` & `plugin:react/jsx-runtime` to the `extends` list

## Internationalization (i18n)

This project uses [Lingui](https://lingui.dev) for internationalization.

## Supported Languages

- English (`en`)
- German (`de`)

## Where translations live

- Message catalogs (editable) are `.po` files at `src/locales/{locale}/messages.po`.
- Compiled catalogs are generated by the build/extract steps used at runtime.

## How to add/edit translations

1. Add/transpile messages in code using Lingui macros:
   - JSX text: `import { Trans } from '@lingui/react/macro'` → `<Trans>Forgot Password</Trans>`
   - Strings/validators/toasts: `import { t } from '@lingui/core/macro'` → `t\`Email is required\``
   - In loops/arrays: use `msg` + `useLingui()._` if you need descriptors, or just `t` for strings
2. Extract new/changed messages:
   - `npm run lingui:extract`
3. Fill translations in `src/locales/de/messages.po` (and other locales as needed)
4. Compile catalogs:
   - `npm run lingui:compile`

## Runtime loading

- Catalog loading/activation happens via `src/i18n.ts` (`loadCatalog`) and `src/main.tsx`.
- We dynamically load `.po` catalogs for the active locale and activate via Lingui.

## Usage patterns

- Prefer `Trans` for UI text in components.
- Prefer `t` for validation, toasts, and non-JSX strings.
- Inside hooks/loops, build messages with `msg` and render with `useLingui()._` when you need descriptors.

## Language switching

- The language switcher UI lives in the header user menu.
- Switching triggers catalog load + activation at runtime.

## References

- [Lingui docs](https://lingui.dev)
- Macros: `@lingui/react/macro`, `@lingui/core/macro`
